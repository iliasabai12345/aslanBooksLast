<div class="wrapper p-4">
  <div class="mb-4">Регистрация</div>
  <form
    [formGroup]="form"
    class="d-flex flex-col gap-3"
  >
    <mat-form-field appearance="legacy" class="width">
      <mat-label>Имя</mat-label>
      <input matInput placeholder="Введите имя" #name formControlName="name">
      <mat-hint align="end">{{name.value.length + '/' + 20}}</mat-hint>
    </mat-form-field>
    <mat-form-field appearance="legacy" class="width">
      <mat-label>Email</mat-label>
      <input matInput placeholder="Введите email" formControlName="email" #email>
    </mat-form-field>
    <mat-form-field appearance="legacy" class="width">
      <mat-label>Пароль</mat-label>
      <input matInput placeholder="Введите пароль" formControlName="password" #password>
    </mat-form-field>
    <button
      mat-raised-button
      [color]="'primary'"
      class="main-btn"
      (click)="SignUp(email.value, password.value, name.value)"
      [disabled]="form.invalid || !loader.loading"
    >
      <ng-container *ngIf="loader.loading;else spinner">
        Зарегестрироватся
      </ng-container>
      <ng-template #spinner>
        <mat-spinner></mat-spinner>
      </ng-template>
    </button>
  </form>
</div>
